<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine ğŸ’˜</title>
    <link rel="stylesheet" href="vel.css">
</head>

<body>

<audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>
    
<canvas id="fireworks"></canvas>

<div class="card" id="card">

    <h1 class="title">Krishu sorryğŸ˜”ğŸ«‚â¤ï¸</h1>

    <div class="photos">
        <img src="vicky.jpg">
        <img src="krishu.jpg">
    </div>

    <!-- <p class="question">Will you be my Valentine? ğŸ’Œ</p>

    <div class="buttons">
        <button id="yes" onclick="yesClicked()">YES ğŸ’–</button>
        <button id="no" onmouseover="moveNo()" ontouchstart="moveNo()">NO ğŸ’”</button>
    </div> -->

</div>

<div class="hearts" id="hearts"></div>

<script>
function moveNo(){
    const btn = document.getElementById("no");
    const x = Math.random() * (window.innerWidth - 100);
    const y = Math.random() * (window.innerHeight - 100);
    btn.style.left = x + "px";
    btn.style.top = y + "px";
}

// function yesClicked(){
//     document.getElementById("bgMusic").play();

//     document.getElementById("card").innerHTML = `
//         <h1>Yayyy ğŸ’•</h1>
//         <p>Krishna is my Valentine forever â¤ï¸</p>
//         <p>You make my world brighter ğŸŒ¸</p>
//         <p>Every moment with you is special ğŸ’«</p>
//         <p>My heart has chosen youâ€”always ğŸ’–</p>
//         <img src="krishu.jpg" class="final-img">
//         <p>I love you endlessly ğŸ˜˜</p>
//     `;
//     startFireworks();
// }

/* Floating hearts */
setInterval(()=>{
    const heart = document.createElement("span");
    heart.innerHTML = "ğŸ’–";
    heart.style.left = Math.random()*100 + "vw";
    heart.style.fontSize = (18 + Math.random()*20) + "px";
    heart.style.animationDuration = (4 + Math.random()*3) + "s";
    document.getElementById("hearts").appendChild(heart);
    setTimeout(()=>heart.remove(),7000);
},300);

/* Fireworks */
function startFireworks(){
    const canvas = document.getElementById('fireworks');
    const ctx = canvas.getContext('2d');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let particles = [];

    function createFirework(x, y){
        for(let i=0;i<80;i++){
            particles.push({
                x: x,
                y: y,
                angle: Math.random() * 2 * Math.PI,
                speed: Math.random() * 5 + 2,
                radius: 2,
                alpha: 1
            });
        }
    }

    function animate(){
        ctx.clearRect(0,0,canvas.width,canvas.height);

        particles.forEach((p, index)=>{
            p.x += Math.cos(p.angle) * p.speed;
            p.y += Math.sin(p.angle) * p.speed;
            p.alpha -= 0.01;

            ctx.beginPath();
            ctx.arc(p.x, p.y, p.radius, 0, Math.PI*2);
            ctx.fillStyle = "rgba(255, 77, 109," + p.alpha + ")";
            ctx.fill();

            if(p.alpha <= 0){
                particles.splice(index,1);
            }
        });

        requestAnimationFrame(animate);
    }

    animate();

    setInterval(()=>{
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height / 2;
        createFirework(x,y);
    },600);
}
</script>

</body>
</html>
